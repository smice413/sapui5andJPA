/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/documentation/sdk/model/models","sap/ui/documentation/sdk/controller/ErrorHandler","sap/ui/model/json/JSONModel","sap/ui/documentation/sdk/controller/util/ConfigUtil","sap/base/util/Version","sap/ui/documentation/sdk/util/Resources","sap/base/Log","sap/ui/documentation/sdk/util/DocumentationRouter","sap/m/ColumnListItem"],function(q,U,D,m,E,J,C,V,R,L){"use strict";return U.extend("sap.ui.documentation.sdk.Component",{metadata:{manifest:"json",includes:["css/style.css"]},init:function(){this._oErrorHandler=new E(this);this.setModel(m.createDeviceModel(),"device");this.setModel(new J(),"libsData");this.setModel(new J(),"versionData");U.prototype.init.apply(this,arguments);this.loadVersionInfo();this.getRouter().initialize();},destroy:function(){this._oErrorHandler.destroy();this._oConfigUtil.destroy();this._oConfigUtil=null;U.prototype.destroy.apply(this,arguments);},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(q(document.body).hasClass("sapUiSizeCozy")||q(document.body).hasClass("sapUiSizeCompact")){this._sContentDensityClass="";}this._sContentDensityClass="sapUiSizeCompact";}return this._sContentDensityClass;},getConfigUtil:function(){if(!this._oConfigUtil){this._oConfigUtil=new C(this);}return this._oConfigUtil;},loadVersionInfo:function(){if(!this._oVersionInfoPromise){var t=this;this._oVersionInfoPromise=new Promise(function(r,a){var u=R.getResourceOriginPath('./resources/sap-ui-version.json');q.ajax({url:u,dataType:"json",error:function(x,s,e){L.error("failed to load '"+u+"': "+s+", "+e);a(e);},success:function(d){t._bindVersionModel(d);r(d);}});});}return this._oVersionInfoPromise;},_bindVersionModel:function(v){var o,s,O,a,i;this.aAllowedMembers=["public","protected"];if(!v){return;}o=V(v.version);a=o.getSuffix();s=/-SNAPSHOT$/i.test(a);O=v.gav&&/openui5/i.test(v.gav);if(/internal/i.test(v.name)){i=true;this.aAllowedMembers.push("restricted");}this.getModel("versionData").setData({versionGav:v.gav,versionName:v.name,version:[o.getMajor(),o.getMinor(),o.getPatch()].join("."),fullVersion:v.version,openUi5Version:sap.ui.version,isOpenUI5:O,isSnapshotVersion:s,isDevVersion:s,isBetaVersion:!O&&!s&&/-beta$/i.test(a),isInternal:!!i,libraries:v.libraries,allowedMembers:this.aAllowedMembers});}});});
